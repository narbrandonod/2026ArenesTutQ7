<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evidence-Based Reasoning Tool</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f5f7fa;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 300;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .main-content {
            display: flex;
            min-height: 600px;
        }

        .evidence-section {
            flex: 1;
            padding: 30px;
            border-right: 2px solid #e1e8ed;
        }

        .questions-section {
            flex: 1;
            padding: 30px;
            background-color: #fafbfc;
        }

        .section-title {
            font-size: 1.5em;
            margin-bottom: 20px;
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }

        .evidence-item {
            background: white;
            border: 2px solid #e1e8ed;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .evidence-item:hover {
            border-color: #3498db;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.2);
        }

        .evidence-item.selected {
            border-color: #2980b9;
            background-color: #ebf3fd;
        }

        .evidence-item.completed {
            border-width: 3px;
        }

        .question-container {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 4px solid #3498db;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .question-text {
            font-size: 1.1em;
            margin-bottom: 15px;
            color: #2c3e50;
            font-weight: 500;
        }

        .options {
            display: grid;
            gap: 10px;
        }

        .option {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 6px;
            padding: 12px 15px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .option:hover {
            background: #e3f2fd;
            border-color: #2196f3;
        }

        .option.correct {
            background: #d4edda;
            border-color: #28a745;
            color: #155724;
        }

        .option.incorrect {
            background: #f8d7da;
            border-color: #dc3545;
            color: #721c24;
        }

        .option.disabled {
            cursor: not-allowed;
            opacity: 0.6;
        }

        .status-icon {
            font-size: 1.2em;
            font-weight: bold;
        }

        .confirmed-clues {
            margin-top: 30px;
            padding: 30px;
            background: #f8f9fa;
            border-top: 2px solid #e1e8ed;
        }

        .confirmed-clue {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 15px;
            border-left: 5px solid #28a745;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .confirmed-evidence {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 8px;
        }

        .confirmed-question {
            color: #495057;
            margin-bottom: 8px;
            font-style: italic;
        }

        .confirmed-answer {
            font-weight: bold;
            color: #28a745;
        }

        .no-questions {
            text-align: center;
            color: #6c757d;
            font-style: italic;
            padding: 40px;
        }

        .progress-bar {
            background: #e9ecef;
            height: 8px;
            border-radius: 4px;
            margin: 20px 30px;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(90deg, #28a745, #20c997);
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
        }

        /* Color scheme for completed evidence groups */
        .color-1 { border-color: #ff9999 !important; background-color: #fff5f5 !important; }
        .color-2 { border-color: #99ccff !important; background-color: #f0f8ff !important; }
        .color-3 { border-color: #99ff99 !important; background-color: #f0fff0 !important; }
        .color-4 { border-color: #ffcc99 !important; background-color: #fff8f0 !important; }
        .color-5 { border-color: #cc99ff !important; background-color: #f8f0ff !important; }
        .color-6 { border-color: #ffff99 !important; background-color: #fffff0 !important; }
        .color-7 { border-color: #ff99cc !important; background-color: #fff0f8 !important; }
        .color-8 { border-color: #99ffcc !important; background-color: #f0fff8 !important; }
        .color-9 { border-color: #ccff99 !important; background-color: #f8fff0 !important; }

        .clue-color-1 { border-left-color: #ff6666 !important; background-color: #fff5f5 !important; }
        .clue-color-2 { border-left-color: #6699ff !important; background-color: #f0f8ff !important; }
        .clue-color-3 { border-left-color: #66ff66 !important; background-color: #f0fff0 !important; }
        .clue-color-4 { border-left-color: #ff9966 !important; background-color: #fff8f0 !important; }
        .clue-color-5 { border-left-color: #9966ff !important; background-color: #f8f0ff !important; }
        .clue-color-6 { border-left-color: #ffff66 !important; background-color: #fffff0 !important; }
        .clue-color-7 { border-left-color: #ff6699 !important; background-color: #fff0f8 !important; }
        .clue-color-8 { border-left-color: #66ff99 !important; background-color: #f0fff8 !important; }
        .clue-color-9 { border-left-color: #99ff66 !important; background-color: #f8fff0 !important; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Evidence-Based Reasoning Tool</h1>
            <p>Click on evidence statements to reveal guiding questions and practice your analytical skills</p>
        </div>
        
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <div class="main-content">
            <div class="evidence-section">
                <h2 class="section-title">Evidence Statements</h2>
                <div id="evidenceList"></div>
            </div>

            <div class="questions-section">
                <h2 class="section-title">Guiding Questions</h2>
                <div id="questionsList">
                    <div class="no-questions">
                        Select an evidence statement to view related questions
                    </div>
                </div>
            </div>
        </div>

        <div class="confirmed-clues">
            <h2 class="section-title">Confirmed Clues</h2>
            <div id="confirmedCluesList">
                <div class="no-questions">
                    No clues confirmed yet. Start by selecting evidence and answering questions correctly!
                </div>
            </div>
        </div>
    </div>

    <script>
        // Data from the Excel file
        const data = [
            {
                evidence: "Compound P has molecular formula C₈H₈",
                question: "Based on the high C:H ratio of approximately 1:1 in compound P (C₈H₈), what functional group is likely to be present?",
                options: ["Benzene ring", "(-C≡C-) alkyne", "(-C=C-) alkene", "(-OH) hydroxyl"],
                correct: 0
            },
            {
                evidence: "P instantly decolourises bromine in tetrachloromethane",
                question: "What type of reaction occurs when compound P decolourises bromine in tetrachloromethane?",
                options: ["Nucleophilic addition", "Electrophilic substitution", "Free radical substitution", "Electrophilic addition"],
                correct: 3
            },
            {
                evidence: "P instantly decolourises bromine in tetrachloromethane",
                question: "Since compound P decolourises bromine in tetrachloromethane, what structural feature is present in P?",
                options: ["(-C=C-) alkene", "(-OH) hydroxyl", "Benzene ring only", "(-C≡C-) alkyne"],
                correct: 0
            },
            {
                evidence: "When P is heated under reflux with alkaline potassium manganate(VII), Q (C₇H₆O₂) is obtained",
                question: "What type of reaction occurs when compound P is treated with alkaline potassium manganate(VII)?",
                options: ["Reduction", "Oxidation", "Nucleophilic substitution", "Electrophilic addition"],
                correct: 1
            },
            {
                evidence: "When P is heated under reflux with alkaline potassium manganate(VII), Q (C₇H₆O₂) is obtained",
                question: "Based on the oxidation of P to give Q (C₇H₆O₂), what can be deduced about the structure of P?",
                options: ["P contains multiple alkyl side chains", "P contains a ketone group", "P contains only one alkyl or alkenyl side chain", "P contains an ester group"],
                correct: 2
            },
            {
                evidence: "P reacts with hydrogen in 1:1 molar ratio with Ni catalyst to form R",
                question: "What type of reaction occurs when compound P reacts with hydrogen in the presence of nickel catalyst?",
                options: ["Oxidation", "Electrophilic addition", "Reduction", "Nucleophilic addition"],
                correct: 2
            },
            {
                evidence: "P reacts with hydrogen in 1:1 molar ratio with Ni catalyst to form R",
                question: "Based on the 1:1 molar ratio of P:H₂ in the reduction reaction, how many C=C bonds are present in P?",
                options: ["Three C=C bonds", "One C=C bond", "Two C=C bonds", "Four C=C bonds"],
                correct: 1
            },
            {
                evidence: "R gives no reaction with bromine in the dark",
                question: "What type of reaction does compound R not undergo with bromine in the dark?",
                options: ["Nucleophilic substitution", "Free radical substitution", "Nucleophilic addition", "Electrophilic addition"],
                correct: 3
            },
            {
                evidence: "When AlBr₃ is added to R + Br₂, dense white fumes S and compounds T, U are formed",
                question: "What type of reaction occurs when compound R reacts with bromine in the presence of AlBr₃?",
                options: ["Free radical substitution", "Electrophilic substitution", "Nucleophilic addition", "Electrophilic addition"],
                correct: 1
            }
        ];

        // Group data by evidence
        const evidenceGroups = {};
        data.forEach((item, index) => {
            if (!evidenceGroups[item.evidence]) {
                evidenceGroups[item.evidence] = [];
            }
            evidenceGroups[item.evidence].push({...item, id: index});
        });

        // State management
        let selectedEvidence = null;
        let answeredQuestions = new Set();
        let confirmedClues = [];
        let completedEvidenceGroups = new Set();

        // Initialize the application
        function init() {
            renderEvidence();
            updateProgress();
        }

        function renderEvidence() {
            const evidenceList = document.getElementById('evidenceList');
            evidenceList.innerHTML = '';

            Object.keys(evidenceGroups).forEach((evidence, index) => {
                const evidenceDiv = document.createElement('div');
                evidenceDiv.className = 'evidence-item';
                evidenceDiv.innerHTML = `• ${evidence}`;
                
                // Check if all questions for this evidence are answered
                const allQuestionsAnswered = evidenceGroups[evidence].every(q => answeredQuestions.has(q.id));
                if (allQuestionsAnswered) {
                    evidenceDiv.classList.add('completed', `color-${(index % 9) + 1}`);
                    completedEvidenceGroups.add(evidence);
                }

                evidenceDiv.addEventListener('click', () => selectEvidence(evidence));
                evidenceList.appendChild(evidenceDiv);
            });
        }

        function selectEvidence(evidence) {
            selectedEvidence = evidence;
            
            // Update evidence selection visual
            document.querySelectorAll('.evidence-item').forEach(item => {
                item.classList.remove('selected');
            });
            event.target.classList.add('selected');

            renderQuestions();
        }

        function renderQuestions() {
            const questionsList = document.getElementById('questionsList');
            
            if (!selectedEvidence) {
                questionsList.innerHTML = '<div class="no-questions">Select an evidence statement to view related questions</div>';
                return;
            }

            const questions = evidenceGroups[selectedEvidence];
            questionsList.innerHTML = '';

            questions.forEach(questionData => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question-container';
                
                const isAnswered = answeredQuestions.has(questionData.id);
                
                questionDiv.innerHTML = `
                    <div class="question-text">${questionData.question}</div>
                    <div class="options">
                        ${questionData.options.map((option, index) => `
                            <div class="option ${isAnswered ? (index === questionData.correct ? 'correct' : 'disabled') : ''}" 
                                 data-question-id="${questionData.id}" 
                                 data-option-index="${index}"
                                 ${isAnswered ? 'style="cursor: not-allowed;"' : ''}>
                                <span class="status-icon">
                                    ${isAnswered && index === questionData.correct ? '✅' : 
                                      isAnswered ? '' : ''}
                                </span>
                                ${option}
                            </div>
                        `).join('')}
                    </div>
                `;

                if (!isAnswered) {
                    questionDiv.querySelectorAll('.option').forEach(option => {
                        option.addEventListener('click', handleOptionClick);
                    });
                }

                questionsList.appendChild(questionDiv);
            });
        }

        function handleOptionClick(event) {
            const questionId = parseInt(event.currentTarget.dataset.questionId);
            const optionIndex = parseInt(event.currentTarget.dataset.optionIndex);
            const questionData = data[questionId];

            // Remove previous incorrect styling
            event.currentTarget.parentNode.querySelectorAll('.option').forEach(opt => {
                opt.classList.remove('incorrect');
            });

            if (optionIndex === questionData.correct) {
                // Correct answer
                event.currentTarget.classList.add('correct');
                event.currentTarget.querySelector('.status-icon').textContent = '✅';
                
                // Mark as answered
                answeredQuestions.add(questionId);
                
                // Add to confirmed clues
                confirmedClues.push({
                    evidence: questionData.evidence,
                    question: questionData.question,
                    answer: questionData.options[questionData.correct],
                    evidenceGroup: questionData.evidence
                });

                // Disable all options for this question
                event.currentTarget.parentNode.querySelectorAll('.option').forEach(opt => {
                    opt.classList.add('disabled');
                    opt.style.cursor = 'not-allowed';
                    opt.removeEventListener('click', handleOptionClick);
                });

                // Update displays
                renderEvidence();
                renderConfirmedClues();
                updateProgress();
                
            } else {
                // Incorrect answer
                event.currentTarget.classList.add('incorrect');
                event.currentTarget.querySelector('.status-icon').textContent = '❌';
                
                // Remove incorrect styling after a delay
                setTimeout(() => {
                    event.currentTarget.classList.remove('incorrect');
                    event.currentTarget.querySelector('.status-icon').textContent = '';
                }, 1500);
            }
        }

        function renderConfirmedClues() {
            const confirmedCluesList = document.getElementById('confirmedCluesList');
            
            if (confirmedClues.length === 0) {
                confirmedCluesList.innerHTML = '<div class="no-questions">No clues confirmed yet. Start by selecting evidence and answering questions correctly!</div>';
                return;
            }

            confirmedCluesList.innerHTML = '';

            // Group confirmed clues by evidence and assign colors
            const evidenceColorMap = {};
            let colorIndex = 1;

            confirmedClues.forEach(clue => {
                if (!evidenceColorMap[clue.evidenceGroup]) {
                    evidenceColorMap[clue.evidenceGroup] = colorIndex;
                    colorIndex = (colorIndex % 9) + 1;
                }

                const clueDiv = document.createElement('div');
                const colorClass = evidenceColorMap[clue.evidenceGroup];
                clueDiv.className = `confirmed-clue clue-color-${colorClass}`;
                
                clueDiv.innerHTML = `
                    <div class="confirmed-evidence">${clue.evidence}</div>
                    <div class="confirmed-question">${clue.question}</div>
                    <div class="confirmed-answer">${clue.answer}</div>
                `;

                confirmedCluesList.appendChild(clueDiv);
            });
        }

        function updateProgress() {
            const totalQuestions = data.length;
            const answeredCount = answeredQuestions.size;
            const progressPercentage = (answeredCount / totalQuestions) * 100;
            
            document.getElementById('progressFill').style.width = `${progressPercentage}%`;
        }

        // Initialize the application
        init();
    </script>
</body>
</html>